<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hitman Contract Search</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        body {
            padding-top: 50px;
        }

        .hidden {
            display: none;
        }

        .spinner {
            position: absolute;
            top: calc(50% - 5rem);
            left: calc(50% - 5rem);
            width: 10rem;
            height: 10rem;
        }
    </style>
    <script>
        function getContract() {
            document.getElementById('spinner').classList.remove('hidden');
            fetch(`./contract?platform=${document.getElementById('platform').value}&publicId=${document.getElementById('publicId').value}`)
                .then(response => response.json().then(contract => ({ contract, status: response.status })))
                .then(response => {
                    document.getElementById('contractTitle').innerText = response.contract.name;
                    document.getElementById('contractLocation').innerText = response.contract.location;
                    document.getElementById('contractBriefing').innerText = response.contract.description;
                    document.getElementById('contractId').innerText = response.contract.internalId;

                    response.status === 200 ? document.getElementById('results').classList.remove('hidden') : document.getElementById('results').classList.add('hidden');
                    response.status === 200 ? document.getElementById('results-hidden').classList.add('hidden') : document.getElementById('results-hidden').classList.remove('hidden');
                    document.getElementById('spinner').classList.add('hidden');
                });
        }
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W5N9VXGY5X"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-W5N9VXGY5X');
    </script>
</head>

<body>
    <div class="container">
        <div id="spinner" class="spinner-border spinner hidden" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <h1 style="text-align: center">Hitman Contract Search</h1>
        <div style="text-align: center">
            <p>Heroku is shutting down. Find the replacement for this service here <a href="https://hitman-contract-lookup.onrender.com/">https://hitman-contract-lookup.onrender.com/</a></p>
        </div>
    </div>
</body>

</html>
